"use strict";(self.webpackChunkbublik_release=self.webpackChunkbublik_release||[]).push([[4782],{752:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"configuration/project-config","title":"Project","description":"Per-project Conception","source":"@site/docs/03-configuration/01-project-config.md","sourceDirName":"03-configuration","slug":"/configuration/project-config","permalink":"/bublik-release/configuration/project-config","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Project"},"sidebar":"defaultSidebar","previous":{"title":"Configuration","permalink":"/bublik-release/configuration/"},"next":{"title":"Report","permalink":"/bublik-release/configuration/report-config"}}');var r=i(5105),o=i(5136);const t={title:"Project"},a="Project Configuration",l={},c=[{value:"Per-project Conception",id:"per-project-conception",level:2},{value:"Configuration Areas",id:"configuration-areas",level:2},{value:"Dashboard Configuration",id:"dashboard-configuration",level:3},{value:"DASHBOARD_HEADER",id:"dashboard_header",level:4},{value:"DASHBOARD_PAYLOAD",id:"dashboard_payload",level:4},{value:"DASHBOARD_ROWS_STYLE",id:"dashboard_rows_style",level:4},{value:"DASHBOARD_DATE",id:"dashboard_date",level:4},{value:"DASHBOARD_RUNS_SORT",id:"dashboard_runs_sort",level:4},{value:"DASHBOARD_DEFAULT_MODE",id:"dashboard_default_mode",level:4},{value:"Metadata Configuration",id:"metadata-configuration",level:3},{value:"Metadata on Pages",id:"metadata-on-pages",level:4},{value:"Special Categories",id:"special-categories",level:4},{value:"Run Configuration",id:"run-configuration",level:3},{value:"Run Completion File",id:"run-completion-file",level:4},{value:"Run Uniqueness",id:"run-uniqueness",level:4},{value:"Applying Changes",id:"applying-changes",level:2},{value:"Configuration Updates",id:"configuration-updates",level:3},{value:"CSRF Configuration",id:"csrf-configuration",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"project-configuration",children:"Project Configuration"})}),"\n",(0,r.jsx)(n.h2,{id:"per-project-conception",children:"Per-project Conception"}),"\n",(0,r.jsxs)(n.p,{children:["All ",(0,r.jsx)(n.strong,{children:"metas"})," that users can apply to customize their Bublik pages originate from ",(0,r.jsx)(n.code,{children:"metadata.json"}),". ",(0,r.jsx)(n.strong,{children:"Tags"})," are special metas that come from TE log and cannot be modified within Bublik."]}),"\n",(0,r.jsx)(n.h2,{id:"configuration-areas",children:"Configuration Areas"}),"\n",(0,r.jsx)(n.h3,{id:"dashboard-configuration",children:"Dashboard Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["The dashboard table is fully configurable through the following settings in ",(0,r.jsx)(n.code,{children:"perconf.py"}),":"]}),"\n",(0,r.jsx)(n.h4,{id:"dashboard_header",children:"DASHBOARD_HEADER"}),"\n",(0,r.jsx)(n.p,{children:"Defines columns on the dashboard. Each column represents values of metas from its dedicated category, with special keys:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"total"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"total_expected"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"progress"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"unexpected"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"These special keys show extended data that Bublik generates internally. The setting is represented as a dictionary where keys are common to all dashboard settings (user-defined) and values are meta category names."}),"\n",(0,r.jsx)(n.h4,{id:"dashboard_payload",children:"DASHBOARD_PAYLOAD"}),"\n",(0,r.jsx)(n.p,{children:"Configures actions triggered when clicking column cells, typically navigating to another view:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"go_run"}),": Navigate to run details"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"go_run_failed"}),": Navigate to run details with failed results displayed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"go_tree"}),": Navigate to run tests as a tree with logs and context"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"go_bug"}),": Navigate to bug in repository"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"go_source"}),": Navigate to source from which the run was imported"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This setting is represented as a dictionary mapping ",(0,r.jsx)(n.code,{children:"DASHBOARD_HEADER"})," keys to the actions listed above."]}),"\n",(0,r.jsx)(n.h4,{id:"dashboard_rows_style",children:"DASHBOARD_ROWS_STYLE"}),"\n",(0,r.jsx)(n.p,{children:"Controls row coloring:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Set to ",(0,r.jsx)(n.code,{children:"'colored'"})," for colored rows"]}),"\n",(0,r.jsx)(n.li,{children:"Default: not set\nNote: Only works in UI-V1; UI-V2 uses a common row coloring style."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"dashboard_date",children:"DASHBOARD_DATE"}),"\n",(0,r.jsx)(n.p,{children:"Specifies the meta name indicating which date the run relates to (useful for runs spanning multiple days)."}),"\n",(0,r.jsx)(n.h4,{id:"dashboard_runs_sort",children:"DASHBOARD_RUNS_SORT"}),"\n",(0,r.jsxs)(n.p,{children:["Defines default column sorting order. Accepts a list of ",(0,r.jsx)(n.code,{children:"DASHBOARD_HEADER"})," keys plus the special ",(0,r.jsx)(n.code,{children:"'start'"})," key for run start time."]}),"\n",(0,r.jsx)(n.h4,{id:"dashboard_default_mode",children:"DASHBOARD_DEFAULT_MODE"}),"\n",(0,r.jsx)(n.p,{children:"Sets the default dashboard view mode (UI-V2 only):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"one_day_one_column"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"one_day_two_columns"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"two_days_two_columns"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"metadata-configuration",children:"Metadata Configuration"}),"\n",(0,r.jsx)(n.h4,{id:"metadata-on-pages",children:"Metadata on Pages"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Metadata"})," column on history and runs pages is controlled by ",(0,r.jsx)(n.code,{children:"METADATA_ON_PAGES"})," in ",(0,r.jsx)(n.code,{children:"perconf.py"}),", which accepts a list of meta category names."]}),"\n",(0,r.jsx)(n.h4,{id:"special-categories",children:"Special Categories"}),"\n",(0,r.jsxs)(n.p,{children:["Extra project data in the ",(0,r.jsx)(n.strong,{children:"Info"})," block on log and run pages is managed by ",(0,r.jsx)(n.code,{children:"SPECIAL_CATEGORIES"})," in ",(0,r.jsx)(n.code,{children:"perconf.py"}),", which accepts a list of meta category names."]}),"\n",(0,r.jsx)(n.h3,{id:"run-configuration",children:"Run Configuration"}),"\n",(0,r.jsx)(n.h4,{id:"run-completion-file",children:"Run Completion File"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"RUN_COMPLETE_FILE"})," setting in ",(0,r.jsx)(n.code,{children:"perconf.py"})," specifies the filename (accessed via run source link) that indicates test completion."]}),"\n",(0,r.jsx)(n.h4,{id:"run-uniqueness",children:"Run Uniqueness"}),"\n",(0,r.jsxs)(n.p,{children:["Bublik distinguishes runs using metas defined in ",(0,r.jsx)(n.code,{children:"RUN_KEY_METAS"})," setting in ",(0,r.jsx)(n.code,{children:"perconf.py"}),", represented as a list of meta names."]}),"\n",(0,r.jsx)(n.h2,{id:"applying-changes",children:"Applying Changes"}),"\n",(0,r.jsx)(n.h3,{id:"configuration-updates",children:"Configuration Updates"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.code,{children:"meta.conf"})," or ",(0,r.jsx)(n.code,{children:"tags.conf"})," changes:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Send HTTP request: ",(0,r.jsx)(n.code,{children:"GET: <bublik-web>/meta_categorization"})]}),"\n",(0,r.jsxs)(n.li,{children:["Example: ",(0,r.jsx)(n.a,{href:"https://ts-factory.io/bublik/meta_categorization",children:"https://ts-factory.io/bublik/meta_categorization"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.code,{children:"perconf.py"})," or ",(0,r.jsx)(n.code,{children:"references.py"})," changes:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Restart server: ",(0,r.jsx)(n.code,{children:"./scripts/deploy --steps run_server"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["For dashboard settings changes in ",(0,r.jsx)(n.code,{children:"meta.conf"})," or ",(0,r.jsx)(n.code,{children:"perconf.py"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Clear cache by clicking the clock icon in upper right corner"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Important"}),": After any configuration changes, reload web pages using ",(0,r.jsx)(n.code,{children:"Ctrl + Shift + R"})]}),"\n",(0,r.jsx)(n.h3,{id:"csrf-configuration",children:"CSRF Configuration"}),"\n",(0,r.jsx)(n.p,{children:'To resolve "CSRF verification failed" in POST requests on hosted Bublik instances:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Configure trusted origins for CSRF verification\n# More details: https://docs.djangoproject.com/en/3.0/ref/settings/#csrf-trusted-origins\nCSRF_TRUSTED_ORIGINS = ['ts-factory.io']\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},5136:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var s=i(8101);const r={},o=s.createContext(r);function t(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);