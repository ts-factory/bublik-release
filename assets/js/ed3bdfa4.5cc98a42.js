"use strict";(self.webpackChunkbublik_release=self.webpackChunkbublik_release||[]).push([[2694],{3546:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>o});var i=n(9729);const t={},r=i.createContext(t);function l(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:s},e.children)}},7724:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"publish/index","title":"Publish","description":"Bublik has several assumptions in it\'s design:","source":"@site/docs/04-publish/index.md","sourceDirName":"04-publish","slug":"/publish/","permalink":"/bublik-release/publish/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Publish"},"sidebar":"defaultSidebar","previous":{"title":"Report","permalink":"/bublik-release/configuration/report-config/"},"next":{"title":"Log Attachments","permalink":"/bublik-release/publish/attachments"}}');var t=n(5813),r=n(3546);const l={title:"Publish"},o="Publishing",a={},c=[{value:"Logs storage",id:"logs-storage",level:2},{value:"Supported storages",id:"supported-storages",level:3},{value:"Import/Publish",id:"importpublish",level:2},{value:"Run Logs",id:"run-logs",level:3},{value:"Folder content",id:"folder-content",level:4},{value:"Scripts to prepare",id:"scripts-to-prepare",level:4},{value:"Artifacts",id:"artifacts",level:3}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"publishing",children:"Publishing"})}),"\n",(0,t.jsx)(s.p,{children:"Bublik has several assumptions in it's design:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"UI (DB + UI) is separate from the logs"}),"\n",(0,t.jsx)(s.li,{children:"Logs storage can be implemented in any way as long as the storage system allows to get certain files by URL"}),"\n",(0,t.jsx)(s.li,{children:"All runs can be re-imported and this will NOT cause data loss except for things like comments or in-DB resutls classification (when supported)"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:'Run import is sometimes called "publishing".'}),"\n",(0,t.jsx)(s.h2,{id:"logs-storage",children:"Logs storage"}),"\n",(0,t.jsx)(s.h3,{id:"supported-storages",children:"Supported storages"}),"\n",(0,t.jsx)(s.admonition,{type:"warning",children:(0,t.jsxs)(s.p,{children:["Documentation is currently in progress. ",(0,t.jsx)("br",{}),"\nPlease check back later for updates.",(0,t.jsx)("br",{}),"\nFIXME: Detailes should be provided."]})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Flat","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"you store unpacked run logs/data"}),"\n",(0,t.jsx)(s.li,{children:"and nginx/apache or any other sever provides access"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Apache CGI based:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/ts-factory/test-environment/tree/main/tools/log_server",children:"setup instructions"})," can be found in TE repo"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Artifactory:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"FIXME: details once pushed"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["MinIO:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"FIXME: details once pushed"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"importpublish",children:"Import/Publish"}),"\n",(0,t.jsx)(s.p,{children:"Several ways:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["via ",(0,t.jsx)(s.code,{children:"importruns"})," management command"]}),"\n",(0,t.jsxs)(s.li,{children:["via admin interface on the web:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"Admin"})," section at the bottom"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"Import"})," sub-section"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"Import"})," button at the top right."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["via curl command:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.code,{children:'curl --negotiate -u : "${BUBLIK_URL}/importruns/source/?url=${logs_url}&force=true"'})}),"\n",(0,t.jsxs)(s.li,{children:["where ",(0,t.jsx)(s.code,{children:"logs_url"})," should point to ",(0,t.jsx)(s.strong,{children:"directory"})," with the logs in a given format."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Import section contains all the details regarding latest import attempts and if\nthey were successful."}),"\n",(0,t.jsxs)(s.p,{children:["It's important to stress that logs are ",(0,t.jsx)(s.strong,{children:"NOT"})," modified/moved during the import.\nThey stay in place, but are accessed during run import and potentially during\nfurther UI accesses."]}),"\n",(0,t.jsx)(s.admonition,{type:"note",children:(0,t.jsxs)(s.p,{children:["Usually things will keep working as far as all\nbasic views go if logs can't be accessed post-Import, but this is ",(0,t.jsx)(s.strong,{children:"not"})," a\ncommitment."]})}),"\n",(0,t.jsx)(s.h3,{id:"run-logs",children:"Run Logs"}),"\n",(0,t.jsx)(s.h4,{id:"folder-content",children:"Folder content"}),"\n",(0,t.jsx)(s.admonition,{type:"warning",children:(0,t.jsxs)(s.p,{children:["Documentation is currently in progress. ",(0,t.jsx)("br",{}),"\nPlease check back later for updates.",(0,t.jsx)("br",{}),"\nFIXME: outline what's needed"]})}),"\n",(0,t.jsx)(s.h4,{id:"scripts-to-prepare",children:"Scripts to prepare"}),"\n",(0,t.jsx)(s.admonition,{type:"warning",children:(0,t.jsxs)(s.p,{children:["Documentation is currently in progress. ",(0,t.jsx)("br",{}),"\nPlease check back later for updates.",(0,t.jsx)("br",{}),"\nFIXME: where?"]})}),"\n",(0,t.jsx)(s.h3,{id:"artifacts",children:"Artifacts"}),"\n",(0,t.jsx)(s.p,{children:"Sometimes it's useful to have things stored next to the run logs. Moreover, it's\nuseful to have logs/files associated with a specific result."}),"\n",(0,t.jsxs)(s.p,{children:["Historically we have ",(0,t.jsx)(s.strong,{children:"log"})," that is located in ",(0,t.jsx)(s.code,{children:"html/node_id5.html"})," or\n",(0,t.jsx)(s.code,{children:"json/node_id5.json"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["The idea is that we have ",(0,t.jsx)(s.code,{children:"/artifacts/node_<id>/"})," folder that contains details on\nthe artefacts associated with the result."]}),"\n",(0,t.jsxs)(s.p,{children:["See ",(0,t.jsx)(s.a,{href:"/bublik-release/publish/attachments",children:"Artifacts publishing"})]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);