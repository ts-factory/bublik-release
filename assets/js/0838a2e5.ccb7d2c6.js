"use strict";(self.webpackChunkbublik_release=self.webpackChunkbublik_release||[]).push([[2389],{3546:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var i=t(9729);const s={},r=i.createContext(s);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},9789:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"publish/attachments","title":"Log Attachments","description":"- Overview","source":"@site/docs/04-publish/01-attachments.md","sourceDirName":"04-publish","slug":"/publish/attachments","permalink":"/bublik-release/publish/attachments","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Log Attachments"},"sidebar":"defaultSidebar","previous":{"title":"Publish","permalink":"/bublik-release/publish/"},"next":{"title":"Schedule","permalink":"/bublik-release/schedule/"}}');var s=t(5813),r=t(3546);const l={title:"Log Attachments"},a="Log Attachments",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Directory Structure",id:"directory-structure",level:2},{value:"Attachment Types",id:"attachment-types",level:2},{value:"Text Attachments",id:"text-attachments",level:3},{value:"Packet Capture Attachments",id:"packet-capture-attachments",level:3},{value:"Path Resolution",id:"path-resolution",level:2},{value:"Current Limitations",id:"current-limitations",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"log-attachments",children:"Log Attachments"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#overview",children:"Overview"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#directory-structure",children:"Directory Structure"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#attachment-types",children:"Attachment Types"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#text-attachments",children:"Text Attachments"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#packet-capture-attachments",children:"Packet Capture Attachments"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#path-resolution",children:"Path Resolution"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#current-limitations",children:"Current Limitations"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:'Artifact is an arbitrary "item" associated with the test result. This page describes the canonical way of publishing artifacts.'}),"\n",(0,s.jsx)(n.p,{children:"Bublik displays test attachments through a dropdown menu on both the log page and log preview. This feature enables easy access to additional test-related files and resources."}),"\n",(0,s.jsx)(n.h2,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,s.jsx)(n.p,{children:"In the session folder one should create:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"attachments/"})," folder which will contain all attachments,"]}),"\n",(0,s.jsxs)(n.li,{children:["For each result one should create ",(0,s.jsx)(n.code,{children:"attachments/node_<id>/"})," folder which in turn will contain description for attachments associated with the result."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"ID"})," must be similar to the one used for ",(0,s.jsx)(n.code,{children:"node_<id>.html"})," or ",(0,s.jsx)(n.code,{children:"node_<id>.json"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"To enable attachments in your logs, you need to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create an ",(0,s.jsx)(n.code,{children:"attachments.json"})," file and place it at ",(0,s.jsx)(n.code,{children:"/attachments/node_<id>/attachments.json"})," in your log structure","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Example full path: ",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.code,{children:"<bublik_url>/logs/dpdk-ethdev-ts/2025/03/03/balin-x710-p0-cbs-speed-stack-03:00:37/attachments/node_id2/attachments.json"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"attachments.json"})," file must conform to the following schema: ",(0,s.jsx)(n.a,{href:"https://github.com/okt-limonikas/bublik-log-viewer/blob/main/internal/command/schemas/artifact.json",children:"URL"})]}),"\n",(0,s.jsx)(n.h2,{id:"attachment-types",children:"Attachment Types"}),"\n",(0,s.jsx)(n.h3,{id:"text-attachments",children:"Text Attachments"}),"\n",(0,s.jsx)(n.p,{children:"Text attachments are files that contain plain text content and can be displayed inline in the browser."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Type Configuration:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type"}),": ",(0,s.jsx)(n.code,{children:'"text"'})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"view_type"}),": ",(0,s.jsx)(n.code,{children:'"inline"'})," - Opens the content in a new browser tab"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Description:"}),"\nText attachments are used for log files, configuration files, debug output, or any other text-based content that needs to be associated with test results. The inline view type allows users to quickly view the content without downloading the file."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Required Fields:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type"}),": Must be ",(0,s.jsx)(n.code,{children:'"text"'})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"view_type"}),": Must be ",(0,s.jsx)(n.code,{children:'"inline"'})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"}),": Display name for the attachment"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Optional Fields:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"description"}),": Detailed description of the attachment content"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"download_enabled"}),": Boolean flag to enable/disable download option (default: false)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"path"}),": Relative path to the attachment file"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"uri"}),": Absolute URL to the attachment file"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example Configuration:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "version": 1,\n  "attachments": [\n    {\n      "type": "text",\n      "view_type": "inline",\n      "name": "Debug Log",\n      "description": "Detailed debug output from test execution",\n      "download_enabled": true,\n      "path": "./debug.log"\n    },\n    {\n      "type": "text",\n      "view_type": "inline",\n      "name": "Configuration File",\n      "description": "Test configuration parameters",\n      "download_enabled": false,\n      "path": "./config.txt"\n    },\n    {\n      "type": "text",\n      "view_type": "inline",\n      "name": "External Log",\n      "description": "Log file hosted on external server",\n      "download_enabled": true,\n      "uri": "http://external-server.com/logs/test_output.txt"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"packet-capture-attachments",children:"Packet Capture Attachments"}),"\n",(0,s.jsx)(n.p,{children:"Packet capture attachments are network traffic capture files that can be analyzed using the built-in network packet analyzer tool."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Type Configuration:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type"}),": ",(0,s.jsx)(n.code,{children:'"packet-capture"'})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"view_type"}),": ",(0,s.jsx)(n.code,{children:'"bublik-tools/net-packet-analyzer"'})," - Uses the network packet analyzer tool for viewing"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Description:"}),"\nPacket capture attachments are used for network traffic analysis files (such as .pcap, .cap files) that contain captured network packets. These files are displayed using a specialized network packet analyzer tool that allows users to inspect network traffic, protocols, and communication patterns related to the test execution."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Required Fields:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type"}),": Must be ",(0,s.jsx)(n.code,{children:'"packet-capture"'})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"view_type"}),": Must be ",(0,s.jsx)(n.code,{children:'"bublik-tools/net-packet-analyzer"'})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"}),": Display name for the attachment"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Optional Fields:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"description"}),": Detailed description of the capture content"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"download_enabled"}),": Boolean flag to enable/disable download option (default: false)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"path"}),": Relative path to the capture file"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"uri"}),": Absolute URL to the capture file"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example Configuration:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "version": 1,\n  "attachments": [\n    {\n      "type": "packet-capture",\n      "view_type": "bublik-tools/net-packet-analyzer",\n      "name": "HTTP Traffic Capture",\n      "description": "Network packets captured during HTTP performance test",\n      "download_enabled": true,\n      "path": "./http_traffic.cap"\n    },\n    {\n      "type": "packet-capture",\n      "view_type": "bublik-tools/net-packet-analyzer",\n      "name": "TCP Connection Analysis",\n      "description": "TCP handshake and data transfer analysis",\n      "download_enabled": false,\n      "path": "./tcp_analysis.pcap"\n    },\n    {\n      "type": "packet-capture",\n      "view_type": "bublik-tools/net-packet-analyzer",\n      "name": "External Capture",\n      "description": "Packet capture from external monitoring system",\n      "download_enabled": true,\n      "uri": "http://monitoring-server.com/captures/network_trace.cap"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"path-resolution",children:"Path Resolution"}),"\n",(0,s.jsx)(n.p,{children:"Attachments support both relative and absolute paths:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Relative paths (using ",(0,s.jsx)(n.code,{children:"path"}),"):"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"./file.txt"})," - File in the current directory (same directory as attachments.json)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"../file.txt"})," - File in the parent directory"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"../../logs/output.log"})," - File in a parent's parent directory"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Absolute paths (using ",(0,s.jsx)(n.code,{children:"uri"}),"):"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Must be a complete URL to the resource"}),"\n",(0,s.jsxs)(n.li,{children:["Example: ",(0,s.jsx)(n.code,{children:"http://your-server.com/path/to/file.txt"})]}),"\n",(0,s.jsx)(n.li,{children:"Can point to external servers or different locations within the same domain"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Path Resolution Examples:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "version": 1,\n  "attachments": [\n    {\n      "type": "text",\n      "view_type": "inline",\n      "name": "Current Directory File",\n      "description": "File in the same directory as attachments.json",\n      "path": "./local_file.txt"\n    },\n    {\n      "type": "text",\n      "view_type": "inline",\n      "name": "Parent Directory File",\n      "description": "File in the parent directory",\n      "path": "../parent_file.txt"\n    },\n    {\n      "type": "packet-capture",\n      "view_type": "bublik-tools/net-packet-analyzer",\n      "name": "Absolute URL Capture",\n      "description": "Capture file with absolute URL",\n      "uri": "http://server.com/captures/traffic.cap"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"current-limitations",children:"Current Limitations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Only two attachment types are currently supported: ",(0,s.jsx)(n.code,{children:"text"})," and ",(0,s.jsx)(n.code,{children:"packet-capture"})]}),"\n",(0,s.jsx)(n.li,{children:"Text attachments can only be viewed inline in the browser"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);